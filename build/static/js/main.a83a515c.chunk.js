(this.webpackJsonphacker_news_clone=this.webpackJsonphacker_news_clone||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(24),o=n.n(r),a=(n(33),n(5)),i=n(6),s=(n(34),n(0)),l=function(){return Object(s.jsx)("a",{href:"/",className:"text-center fs-6 ",children:"Return to Main"})},u=function(e){var t=e.handleSubmit;return Object(s.jsx)("form",{className:"me-1 searchForm",onSubmit:t,children:Object(s.jsx)("input",{type:"text",name:"query",placeholder:"Search word",className:" form-control form-control-sm"})})},d=function(e){var t=e.handleSubmit,n=e.clickedArticle,c=e.isError;return Object(s.jsxs)("nav",{className:"navbar d-flex justify-content-space-around d-flex p-0 mb-4",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{alt:"hacker-news-logo",src:"data:image/gif;base64,R0lGODlhEgASAKIAAP/jyvihV/aKLfmxc/////9mAAAAAAAAACH5BAAAAAAALAAAAAASABIAAAMpWLrc/jDKOQkRy8pBhuKeRAAKQFBBxwVUYY5twXVxodV3nLd77f9ASQIAOw==",width:"20vw"}),Object(s.jsx)("a",{href:"/",className:"text-decoration-none fs-6 fw-bold pageTitle",children:"Hacker News Clone"})]}),n||c?Object(s.jsx)(l,{}):Object(s.jsx)(u,{handleSubmit:t})]})};function j(){return Object(s.jsxs)("div",{className:"container-fluid d-flex align-items-center flex-column",children:[Object(s.jsx)("p",{className:"display-5",children:"No Matches"}),Object(s.jsx)("iframe",{src:"https://giphy.com/embed/l4FGEhHXgExT9UquA",width:"480",height:"356",frameBorder:"0",title:"No Matches Gif",allowFullScreen:!0}),Object(s.jsxs)("a",{href:"/",className:"my-5",children:["Return To Main"," "]})]})}function b(){return Object(s.jsxs)("div",{className:"d-flex justify-content-center ",children:[Object(s.jsx)("iframe",{src:"https://giphy.com/embed/3OuTfmS9cTxqOvdI4y",width:"480",height:"480",frameBorder:"0",title:"Error Gif",allowFullScreen:!0}),Object(s.jsx)("p",{children:Object(s.jsx)("a",{href:"/",children:"Return to Main"})})]})}var f=n(27),h=n(13),m=function(e){var t=h.DateTime.local(),n=h.DateTime.fromISO(e),c=t.diff(n,["hours","minutes","days"]).values,r=c.days,o=c.hours,a=c.minutes;return r?"".concat(r," days ago"):o?"".concat(o," hours ago"):a?"".concat(a.toFixed(0)," minutes ago"):void 0},x=function(e){return 1===e?"1 comment":"".concat(e," comments")},O=n(11),v=function(e){var t=e.handleClick,n=e.text;return Object(s.jsx)("button",{className:"fw-light text-decoration-none border-0 bg-transparent p-0 mt-2 ms-2",style:{fontSize:"0.7rem"},onClick:t,children:n})},p=function e(t){var n=t.created_at,r=t.author,o=t.text,l=t.children,u=t.nested,d=void 0===u?0:u,j=t.id,b=m(n),f=Object(c.useState)(!0),h=Object(i.a)(f,2),x=h[0],p=h[1],g=Object(c.useRef)(),A=l.length?l.length:l.length+1;return Object(s.jsx)(s.Fragment,{children:o&&Object(s.jsxs)("div",{ref:g,style:{fontSize:"0.8rem",paddingLeft:5*d},"data-id":j,children:[Object(s.jsxs)("div",{className:"d-flex flex-row",children:[" ",Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{fontSize:"1.2rem"},children:"\u25b4"})," ",r," ",b]})," ",Object(s.jsx)(v,{text:"| root |",handleClick:function(){for(var e=g.current;e.parentNode.getAttribute("data-id");)e=e.parentNode;window.scrollTo({behavior:"smooth",left:0,top:e.offsetTop})}}),Object(s.jsx)(v,{text:"| parent |",handleClick:function(){window.scrollTo({behavior:"smooth",left:0,top:null===g||void 0===g?void 0:g.current.parentNode.offsetTop})}}),Object(s.jsx)(v,{text:"| prev |",handleClick:function(){var e;window.scrollTo({behavior:"smooth",left:0,top:null===g||void 0===g||null===(e=g.current.previousSibling)||void 0===e?void 0:e.offsetTop})}}),Object(s.jsx)(v,{text:"| next |",handleClick:function(){var e;window.scrollTo({behavior:"smooth",left:0,top:null===g||void 0===g||null===(e=g.current.nextSibling)||void 0===e?void 0:e.offsetTop})}}),Object(s.jsx)("button",{className:"fw-light text-decoration-none border-0 bg-transparent p-0 mt-2 ms-2",style:{fontSize:"0.7rem"},onClick:function(){return p(!x)},children:x?"[\u2212]":"[".concat(A," more]")})]}),x&&Object(O.a)(o),null===l||void 0===l?void 0:l.map((function(t){return Object(c.createElement)(e,Object(a.a)(Object(a.a)({},t),{},{parentId:j,nested:d+4,key:crypto.randomUUID()}))}))," "]})})},g=function(e){var t=e.story_text,n=e.comments;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"mt-4",children:t&&Object(O.a)(t)}),null===n||void 0===n?void 0:n.map((function(e){return Object(c.createElement)(p,Object(a.a)(Object(a.a)({},e),{},{key:crypto.randomUUID()}))}))]})},A=function(e){var t=e.points,n=e.timeAgo,c=e.author,r=e.title,o=e.query,a=e.url,i=e.numberOfComments,l=e.handleClickedArticle,u=e.objectID;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"container ps-0 ",children:[Object(s.jsx)("a",{className:"text-decoration-none link-dark fs-5 me-1 w-auto ",style:{cursor:"pointer"},href:a&&a.href,rel:"noreferrer",target:"_blank",onClick:function(){a||l(u)},dangerouslySetInnerHTML:o?function(e){var t=new RegExp(o,"gi");return{__html:e.replaceAll(t,"<mark>$&</mark>")}}(r):{__html:r}}),Object(s.jsx)("a",{href:a&&a.origin,target:"_blank",rel:"noreferrer",className:"text-decoration-none link-secondary fw-light align-self-center w-25 h-25 w-auto p-0 fs-6",children:a&&"(".concat(a.origin,")")})]}),Object(s.jsx)("div",{className:"d-flex flex-row ",children:Object(s.jsxs)("button",{className:"cursor-default text-decoration-none p-0 border-0 bg-light",style:{outline:"none"},children:[t," points by ",c," ",n," |"," ",Object(s.jsx)("span",{onClick:function(){return l(u)},children:i})]})})]})};function w(e){var t=e.url,n=e.objectID,r=e.created_at,o=e.num_comments,l=e.clickedArticle,u=e.setClickedArticle,d=e.handleClickedArticle,j=Object(f.a)(e,["url","objectID","created_at","num_comments","clickedArticle","setClickedArticle","handleClickedArticle"]),b=Object(c.useState)(),h=Object(i.a)(b,2),O=h[0],v=h[1];Object(c.useEffect)((function(){var e=new AbortController;return fetch("http://hn.algolia.com/api/v1/items/".concat(n),{signal:e.signal}).then((function(e){if(!e.ok)throw new Error("Error with status code ".concat(e.status));return e.json()})).then((function(e){var t=e.children;v(t)})).catch((function(e){"AbortError"!==e.name&&console.log(e.statusCode)})),function(){return e.abort()}}),[n]),t&&(t=new URL(t));var p=m(r),w=x(o);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(A,Object(a.a)({handleClickedArticle:d,setClickedArticle:u,timeAgo:p,url:t,numberOfComments:w,objectID:n},j))," ",l&&Object(s.jsx)(g,{comments:O})]})}var k=function(e){var t=e.pageNr,n=e.setPageNr;return Object(s.jsxs)("div",{className:"d-flex justify-content-around pb-4 mb-5",children:[Object(s.jsx)("button",{className:"btn btn-outline-info",onClick:function(){t>0&&n((function(e){return e-1}))},children:"Prev Page"}),Object(s.jsx)("button",{className:"btn btn-outline-warning",onClick:function(){n((function(e){return e+1}))},children:"Next Page"})]})},y=function(){return Object(s.jsx)("p",{className:"position-absolute  start-50 translate-middle-x ",children:"Made with \ud83d\udc9c by claurennt"})},N=n(26),S=function(){var e,t,n=Object(c.useState)(),r=Object(i.a)(n,2),o=r[0],l=r[1],u=Object(c.useState)(""),f=Object(i.a)(u,2),h=f[0],m=f[1],x=Object(c.useState)(!1),O=Object(i.a)(x,2),v=O[0],p=O[1],g=Object(c.useState)(!1),A=Object(i.a)(g,2),S=A[0],C=A[1],I=Object(c.useState)(0),_=Object(i.a)(I,2),E=_[0],D=_[1],T=Object(c.useState)(),F=Object(i.a)(T,2),R=F[0],U=F[1];Object(c.useEffect)((function(){var e=new AbortController,t=function(){return p(!0),fetch("".concat("https://hn.algolia.com/api/v1/search_by_date","?tags=story&restrictSearchableAttributes=title&numericFilters=num_comments>0&query=").concat(h,"&page=").concat(E),{signal:e.signal}).then((function(e){if(!e.ok)throw new Error("Error with status code ".concat(e.status));return e.json()})).then((function(e){p(!1),l(e)})).catch((function(e){p(!1),C(!0),"AbortError"!==e.name&&console.log(e.message)})),function(){return e.abort()}};t();var n=setInterval((function(){return t()}),3e5);return function(){return clearInterval(n)}}),[h,E]);var q=function(e){var t=o.hits.find((function(t){return t.objectID===e}));U(t)};return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(d,{handleSubmit:function(e){e.preventDefault(),m(e.target.query.value),D(0),e.target.query.value=""},clickedArticle:R,isError:S}),h&&!(null===o||void 0===o||null===(e=o.hits)||void 0===e?void 0:e.length)>0&&Object(s.jsx)(j,{}),h&&(null===o||void 0===o||null===(t=o.hits)||void 0===t?void 0:t.length)>0&&Object(s.jsxs)("p",{className:"fs-4 text-center",children:["Articles matching word: ",Object(s.jsx)("span",{className:"fw-bold",children:h})]}),Object(s.jsxs)("div",{className:"container container-fluid",children:[S&&Object(s.jsx)(b,{}),v?Object(s.jsx)(N.ChasingDots,{size:50,color:"#ff6600"}):function(){if(o&&o.hits.length){var e=o.hitsPerPage,t=o.hits,n=o.page;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"d-flex flex-column ",children:Object(s.jsx)("ol",{start:"".concat(e*n+1),children:t.filter((function(e){return R?e.objectID===R.objectID:e})).map((function(e){return Object(s.jsx)("li",{className:"my-1",children:Object(s.jsx)(w,Object(a.a)(Object(a.a)({},e),{},{query:h,clickedArticle:R,handleClickedArticle:q,setClickedArticle:U}))},crypto.randomUUID())}))})})})}}(),!R&&!v&&!S&&Object(s.jsx)(k,{pageNr:E,setPageNr:D})]}),!v&&Object(s.jsx)(y,{})]})};n(102);o.a.render(Object(s.jsx)(S,{}),document.getElementById("root"))},33:function(e,t,n){},34:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.a83a515c.chunk.js.map