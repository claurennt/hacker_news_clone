{"version":3,"sources":["components/ReturnToMain.jsx","components/SearchForm.jsx","components/Navbar.jsx","logo.gif","NoMatch.js","ErrorMsg.js","utils/calculateTimeAgo.js","utils/displayNumberOfComments.js","components/CommentNavigationButton.jsx","components/Comment.js","components/ArticleDetailed.js","components/ArticleShortInfo.jsx","components/Article.js","components/PaginationButtons.jsx","components/Footer.jsx","App.js","index.js"],"names":["ReturnToMain","href","className","SearchForm","handleSubmit","onSubmit","type","name","placeholder","Navbar","clickedArticle","isError","alt","src","width","NoMatch","height","frameBorder","title","allowFullScreen","ErrorMsg","calculateTimeAgo","date","now","DateTime","local","past","fromISO","diff","values","days","hours","minutes","toFixed","displayNumberOfComments","nrComments","CommentNavigationButton","handleClick","text","style","fontSize","onClick","Comment","created_at","author","children","nested","id","timeAgo","useState","show","setShow","localCommentNode","useRef","showNumberOfNestedComments","length","ref","paddingLeft","current","parentNode","getAttribute","window","scrollTo","behavior","left","top","offsetTop","previousSibling","nextSibling","parse","map","commentToComment","parentId","key","crypto","randomUUID","ArticleDetailed","story_text","comments","comment","ArticleShortInfo","points","query","url","numberOfComments","handleClickedArticle","objectID","cursor","rel","target","dangerouslySetInnerHTML","regexp","RegExp","__html","replaceAll","highlightQuery","origin","outline","Article","num_comments","setClickedArticle","rest","setComments","useEffect","abortController","AbortController","fetch","signal","then","res","ok","Error","status","json","catch","e","console","log","statusCode","abort","URL","PaginationButtons","pageNr","setPageNr","prev","Footer","App","articles","setArticles","setQuery","isFetching","setIsFetching","setIsError","getNews","data","message","setInterval","clearInterval","clickedId","foundArticle","hits","find","article","preventDefault","value","size","color","hitsPerPage","page","start","filter","displayArticles","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a83a515c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst ReturnToMain = () => (\n  <a href=\"/\" className=\"text-center fs-6 \">\n    Return to Main\n  </a>\n);\n\nexport default ReturnToMain;\n","const SearchForm = ({ handleSubmit }) => (\n  <form className=\"me-1 searchForm\" onSubmit={handleSubmit}>\n    <input\n      type=\"text\"\n      name=\"query\"\n      placeholder=\"Search word\"\n      className=\" form-control form-control-sm\"\n    />\n  </form>\n);\n\nexport default SearchForm;\n","import React from \"react\";\nimport logo from \"../logo.gif\";\nimport ReturnToMain from \"./ReturnToMain\";\nimport SearchForm from \"./SearchForm\";\nconst Navbar = ({ handleSubmit, clickedArticle, isError }) => (\n  <nav className=\"navbar d-flex justify-content-space-around d-flex p-0 mb-4\">\n    <div>\n      <img alt=\"hacker-news-logo\" src={logo} width=\"20vw\" />\n      <a href=\"/\" className=\"text-decoration-none fs-6 fw-bold pageTitle\">\n        Hacker News Clone\n      </a>\n    </div>\n    {clickedArticle || isError ? (\n      <ReturnToMain />\n    ) : (\n      <SearchForm handleSubmit={handleSubmit} />\n    )}\n  </nav>\n);\n\nexport default Navbar;\n","export default \"data:image/gif;base64,R0lGODlhEgASAKIAAP/jyvihV/aKLfmxc/////9mAAAAAAAAACH5BAAAAAAALAAAAAASABIAAAMpWLrc/jDKOQkRy8pBhuKeRAAKQFBBxwVUYY5twXVxodV3nLd77f9ASQIAOw==\"","import React from \"react\";\n\nexport default function NoMatch() {\n  return (\n    <div className=\"container-fluid d-flex align-items-center flex-column\">\n      <p className=\"display-5\">No Matches</p>\n      <iframe\n        src=\"https://giphy.com/embed/l4FGEhHXgExT9UquA\"\n        width=\"480\"\n        height=\"356\"\n        frameBorder=\"0\"\n        title=\"No Matches Gif\"\n        allowFullScreen\n      ></iframe>\n      <a href=\"/\" className=\"my-5\">\n        Return To Main{\" \"}\n      </a>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function ErrorMsg() {\n  return (\n    <div className=\"d-flex justify-content-center \">\n      <iframe\n        src=\"https://giphy.com/embed/3OuTfmS9cTxqOvdI4y\"\n        width=\"480\"\n        height=\"480\"\n        frameBorder=\"0\"\n        title=\"Error Gif\"\n        allowFullScreen\n      ></iframe>\n      <p>\n        <a href=\"/\">Return to Main</a>\n      </p>\n    </div>\n  );\n}\n","import { DateTime } from \"luxon\";\n\n//function to calculate days || hours || minutes  from current time\nconst calculateTimeAgo = (date) => {\n  const now = DateTime.local();\n\n  const past = DateTime.fromISO(date);\n\n  const {\n    values: { days, hours, minutes },\n  } = now.diff(past, [\"hours\", \"minutes\", \"days\"]);\n\n  if (days) return `${days} days ago`;\n  else if (hours) return `${hours} hours ago`;\n  else if (minutes) return `${minutes.toFixed(0)} minutes ago`;\n};\nexport default calculateTimeAgo;\n","const displayNumberOfComments = (nrComments) => {\n  return nrComments === 1 ? \"1 comment\" : `${nrComments} comments`;\n};\n\nexport default displayNumberOfComments;\n","import React from \"react\";\n\nconst CommentNavigationButton = ({ handleClick, text }) => (\n  <button\n    className=\"fw-light text-decoration-none border-0 bg-transparent p-0 mt-2 ms-2\"\n    style={{ fontSize: \"0.7rem\" }}\n    onClick={handleClick}\n  >\n    {text}\n  </button>\n);\n\nexport default CommentNavigationButton;\n","import React, { useRef, useState } from \"react\";\nimport parse from \"html-react-parser\";\n\nimport calculateTimeAgo from \"../utils/calculateTimeAgo\";\nimport CommentNavigationButton from \"./CommentNavigationButton\";\nconst Comment = ({ created_at, author, text, children, nested = 0, id }) => {\n  const timeAgo = calculateTimeAgo(created_at);\n  const [show, setShow] = useState(true);\n\n  const localCommentNode = useRef();\n\n  //handle navigation to parent comment\n  const navigateToParentComment = () => {\n    window.scrollTo({\n      behavior: \"smooth\",\n      left: 0,\n      top: localCommentNode?.current.parentNode.offsetTop,\n    });\n  };\n\n  //handle navigation to previous  comment\n  const navigateToPreviousComment = () => {\n    window.scrollTo({\n      behavior: \"smooth\",\n      left: 0,\n      top: localCommentNode?.current.previousSibling?.offsetTop,\n    });\n  };\n\n  //handle navigation to next comment\n  const navigateToNextComment = () => {\n    window.scrollTo({\n      behavior: \"smooth\",\n      left: 0,\n      top: localCommentNode?.current.nextSibling?.offsetTop,\n    });\n  };\n\n  //handle navigation to root comment\n  const navigateToRootComment = () => {\n    //traverse dom to find root comment element of current comment and scroll to it\n    let current = localCommentNode.current;\n    while (current.parentNode.getAttribute(\"data-id\")) {\n      current = current.parentNode;\n    }\n    window.scrollTo({\n      behavior: \"smooth\",\n      left: 0,\n      top: current.offsetTop,\n    });\n  };\n\n  const showNumberOfNestedComments = children.length\n    ? children.length\n    : children.length + 1;\n\n  return (\n    <>\n      {text && (\n        <div\n          ref={localCommentNode}\n          style={{ fontSize: \"0.8rem\", paddingLeft: nested * 5 }}\n          //the id attribute is used as a reference for the scroll\n          data-id={id}\n        >\n          <div className=\"d-flex flex-row\">\n            {\" \"}\n            <p>\n              <span style={{ fontSize: \"1.2rem\" }}>â–´</span> {author} {timeAgo}\n            </p>{\" \"}\n            <CommentNavigationButton\n              text=\"| root |\"\n              handleClick={navigateToRootComment}\n            />\n            <CommentNavigationButton\n              text=\"| parent |\"\n              handleClick={navigateToParentComment}\n            />\n            <CommentNavigationButton\n              text=\"| prev |\"\n              handleClick={navigateToPreviousComment}\n            />\n            <CommentNavigationButton\n              text=\"| next |\"\n              handleClick={navigateToNextComment}\n            />\n            <button\n              className=\"fw-light text-decoration-none border-0 bg-transparent p-0 mt-2 ms-2\"\n              style={{\n                fontSize: \"0.7rem\",\n              }}\n              onClick={() => setShow(!show)}\n            >\n              {show ? \"[âˆ’]\" : `[${showNumberOfNestedComments} more]`}\n            </button>\n          </div>\n          {show && parse(text)}\n          {/* recursively render nested comments and their children with increasing padding left value */}\n          {children?.map((commentToComment) => (\n            <Comment\n              {...commentToComment}\n              parentId={id}\n              nested={nested + 4}\n              key={crypto.randomUUID()}\n            />\n          ))}{\" \"}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Comment;\n","import { useRef } from \"react\";\nimport Comment from \"./Comment\";\n\nimport parse from \"html-react-parser\";\n\nconst ArticleDetailed = ({ story_text, comments }) =>  (\n    <>\n      <div className=\"mt-4\">{story_text && parse(story_text)}</div>\n\n      {comments?.map((comment) => {\n        return (\n          <Comment\n            {...comment}\n            key={crypto.randomUUID()}\n          />\n        );\n      })}\n    </>\n  );\n\nexport default ArticleDetailed;\n","const ArticleShortInfo = ({\n  points,\n  timeAgo,\n  author,\n  title,\n  query,\n  url,\n  numberOfComments,\n  handleClickedArticle,\n  objectID,\n}) => {\n  // highlight query word in title using regular expression\n  const highlightQuery = (title) => {\n    const regexp = new RegExp(query, \"gi\");\n    const replacementPattern = \"<mark>$&</mark>\";\n    const highlightedQuery = title.replaceAll(regexp, replacementPattern);\n\n    return { __html: highlightedQuery };\n  };\n\n  return (\n    <>\n      <div className=\"container ps-0 \">\n        <a\n          className=\"text-decoration-none link-dark fs-5 me-1 w-auto \"\n          style={{ cursor: \"pointer\" }}\n          href={url && url.href}\n          rel=\"noreferrer\"\n          target=\"_blank\"\n          onClick={() => {\n            //on click show detailed view if article does not have a url\n            if (!url) handleClickedArticle(objectID);\n          }}\n          dangerouslySetInnerHTML={\n            query ? highlightQuery(title) : { __html: title }\n          }\n        ></a>\n        <a\n          href={url && url.origin}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className=\"text-decoration-none link-secondary fw-light align-self-center w-25 h-25 w-auto p-0 fs-6\"\n        >\n          {url && `(${url.origin})`}\n        </a>\n      </div>\n      <div className=\"d-flex flex-row \">\n        <button\n          className=\"cursor-default text-decoration-none p-0 border-0 bg-light\"\n          style={{ outline: \"none\" }}\n        >\n          {points} points by {author} {timeAgo} |{\" \"}\n          {/* clicking on the span with the number of comment will display a detailed page with the article and its comments*/}\n          <span onClick={() => handleClickedArticle(objectID)}>\n            {numberOfComments}\n          </span>\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default ArticleShortInfo;\n","import React, { useEffect, useState } from \"react\";\n\nimport calculateTimeAgo from \"../utils/calculateTimeAgo\";\nimport displayNumberOfComments from \"../utils/displayNumberOfComments\";\n\nimport ArticleDetailed from \"./ArticleDetailed\";\nimport ArticleShortInfo from \"./ArticleShortInfo\";\n\nexport default function Article({\n  url,\n  objectID,\n  created_at,\n  num_comments,\n  clickedArticle,\n  setClickedArticle,\n  handleClickedArticle,\n  ...rest\n}) {\n  const [comments, setComments] = useState();\n\n  useEffect(() => {\n    //use abort controller interface to cancel the fetch request\n    const abortController = new AbortController();\n\n    // Fetch the comments for each article\n    fetch(`http://hn.algolia.com/api/v1/items/${objectID}`, {\n      signal: abortController.signal,\n    })\n      .then((res) => {\n        if (!res.ok) throw new Error(`Error with status code ${res.status}`);\n        return res.json();\n      })\n      .then(({ children }) => {\n        setComments(children);\n      })\n      .catch((e) => {\n        //return if the error is coming from the abort controller interface\n        if (e.name === \"AbortError\") return;\n        console.log(e.statusCode);\n      });\n\n    //cancel the fetch request when the component is unmounted\n    return () => abortController.abort();\n  }, [objectID]);\n\n  // create a url object with the url prop\n  if (url) {\n    url = new URL(url);\n  }\n\n  //get time when article was posted\n  const timeAgo = calculateTimeAgo(created_at);\n\n  //display string with number of comments\n  const numberOfComments = displayNumberOfComments(num_comments);\n\n  return (\n    <>\n      {\n        <ArticleShortInfo\n          handleClickedArticle={handleClickedArticle}\n          setClickedArticle={setClickedArticle}\n          timeAgo={timeAgo}\n          url={url}\n          numberOfComments={numberOfComments}\n          objectID={objectID}\n          {...rest}\n        />\n      }{\" \"}\n      {clickedArticle && <ArticleDetailed comments={comments} />}\n    </>\n  );\n}\n","import React from \"react\";\n\nconst PaginationButtons = ({ pageNr, setPageNr }) => (\n  <div className=\"d-flex justify-content-around pb-4 mb-5\">\n    <button\n      className=\"btn btn-outline-info\"\n      onClick={() => {\n        if (pageNr > 0) {\n          setPageNr((prev) => prev - 1);\n        }\n      }}\n    >\n      Prev Page\n    </button>\n\n    <button\n      className=\"btn btn-outline-warning\"\n      onClick={() => {\n        setPageNr((prev) => prev + 1);\n      }}\n    >\n      Next Page\n    </button>\n  </div>\n);\n\nexport default PaginationButtons;\n","import React from \"react\";\n\nconst Footer = () => (\n  <p className=\"position-absolute  start-50 translate-middle-x \">\n    Made with ðŸ’œ by claurennt\n  </p>\n);\n\nexport default Footer;\n","import \"./App.css\";\nimport { useState, useEffect } from \"react\";\n\nimport Navbar from \"./components/Navbar\";\nimport NoMatch from \"./NoMatch\";\nimport ErrorMsg from \"./ErrorMsg\";\nimport Article from \"./components/Article\";\nimport PaginationButtons from \"./components/PaginationButtons\";\nimport Footer from \"./components/Footer\";\nimport { ChasingDots } from \"better-react-spinkit\";\n\nconst App = () => {\n  const [articles, setArticles] = useState();\n  const [query, setQuery] = useState(\"\");\n  const [isFetching, setIsFetching] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [pageNr, setPageNr] = useState(0);\n  const [clickedArticle, setClickedArticle] = useState();\n\n  const baseUrl = \"https://hn.algolia.com/api/v1/search_by_date\";\n\n  // https://medium.com/doctolib/react-stop-checking-if-your-component-is-mounted-3bb2568a4934\n  useEffect(() => {\n    // use abortController to cancel the fetch request if the component is unmounted\n    const abortController = new AbortController(); // Create a new abort controller\n    const getNews = () => {\n      // run spinner on load\n      setIsFetching(true);\n\n      // Fetch data from API\n      fetch(\n        `${baseUrl}?tags=story&restrictSearchableAttributes=title&numericFilters=num_comments>0&query=${query}&page=${pageNr}`,\n        {\n          signal: abortController.signal,\n        }\n      )\n        .then((res) => {\n          /*the res.ok property catches all the HTTP error codes outside the range 200..300\n            so it is needed with fetch() to catch non-network errors*/\n          if (!res.ok) throw new Error(`Error with status code ${res.status}`);\n          return res.json();\n        })\n        .then((data) => {\n          setIsFetching(false);\n          // set the state with new fetched data and articles\n          setArticles(data);\n        })\n        .catch((e) => {\n          setIsFetching(false);\n          setIsError(true);\n          //return if the error is coming from the abort controller interface\n          if (e.name === \"AbortError\") return;\n\n          //catch the error from the callback\n          console.log(e.message);\n        });\n      return () => abortController.abort();\n    };\n\n    getNews();\n    // refresh fetch every 5 minutes\n    const id = setInterval(() => getNews(), 300000);\n\n    // clear the interval when the component is unmounted\n    return () => clearInterval(id);\n  }, [query, pageNr]);\n\n  // handle search submit\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    // update query state\n    setQuery(e.target.query.value);\n    //reset page Number\n    setPageNr(0);\n\n    e.target.query.value = \"\";\n  };\n\n  const handleClickedArticle = (clickedId) => {\n    //find the article we clicked on and make it the detailed view\n    const foundArticle = articles.hits.find(\n      (article) => article.objectID === clickedId\n    );\n    setClickedArticle(foundArticle);\n  };\n\n  //function that display the articles and the children components\n  const displayArticles = () => {\n    if (articles && articles.hits.length) {\n      const { hitsPerPage, hits, page } = articles;\n      return (\n        <>\n          <div className=\"d-flex flex-column \">\n            {/* calculate list numeration */}\n            <ol start={`${hitsPerPage * page + 1}`}>\n              {hits\n                .filter((article) =>\n                  /*if we click on the comments under an article or on an articles's title that does not have a url then\n                  we filter the article that has the same id as the clickedArticle and return it, else we return all articles */\n                  clickedArticle\n                    ? article.objectID === clickedArticle.objectID\n                    : article\n                )\n                .map((article) => (\n                  <li key={crypto.randomUUID()} className=\"my-1\">\n                    <Article\n                      {...article}\n                      query={query}\n                      clickedArticle={clickedArticle}\n                      handleClickedArticle={handleClickedArticle}\n                      setClickedArticle={setClickedArticle}\n                    />\n                  </li>\n                ))}\n            </ol>\n          </div>\n        </>\n      );\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <Navbar\n        handleSubmit={handleSubmit}\n        clickedArticle={clickedArticle}\n        isError={isError}\n      />\n      {/* display no match component if there is a query but no article matches the given query */}\n      {query && !articles?.hits?.length > 0 && <NoMatch />}\n\n      {/* if there is a match when searching for a term display small info about queried word*/}\n      {query && articles?.hits?.length > 0 && (\n        <p className=\"fs-4 text-center\">\n          Articles matching word: <span className=\"fw-bold\">{query}</span>\n        </p>\n      )}\n      <div className=\"container container-fluid\">\n        {isError && <ErrorMsg />}\n\n        {/* display spinner on fetching articles or articles when fetching is completed */}\n        {isFetching ? (\n          <ChasingDots size={50} color=\"#ff6600\" />\n        ) : (\n          displayArticles()\n        )}\n\n        {/* display pagination buttons on general view after fetching is complete and when there is no error */}\n        {!clickedArticle && !isFetching && !isError && (\n          <PaginationButtons pageNr={pageNr} setPageNr={setPageNr} />\n        )}\n      </div>\n      {!isFetching && <Footer />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}